  elz said  date wed number aug number number number  from chris garrigu email   message-id email     so i'll probabl poke around at the sequenc perform issu   well there this wonder piec of code in mhseqexpand ..   # hack to weed out sequenc number for messag that don't exist  foreach m dollar {  if ![file exist dollar {  exmh_debug dollar not found  set ix [lsearch dollar dollar  set seq [lreplac dollar dollar dollar  } els {  # real hack at least i'm up-front about my hack :-)  break  }  }   which is go to run slow if a sequenc happen to start with a bunch  of messag that don't exist i'm not sure whi it is import that the  first messag in the sequenc return exist but not necessarili ani  of the other but i'm sure glad it is as mhseqexpand get call lot  and i don't know if i could cope if it were check everi file in the  sequenc it is look at all the time.. that was my think my recollect about the first messag be valid is that the ftoc code want to find that messag to start it highlight for exampl or you are select a messag to display  it may help to keep a list of the valid messag number for the current  folder (though that would then need to be verifi against chang to the  directory) doe tcl have a directori read function i assum so.. glob -nocomplain dollar * will return an unsort list of the directori content but the thought of keep an in memori list of valid messag is not fun exmh alreadi maintain in-cor list of messag in sequenc which is alreadi pretti tricki  mh_sequenc also goe and reread the file (.mh_sequenc and the  context file) but i'm not sure how frequent that one is call in some place i maintain cach of file by check their modifi time but the sequenc file are soo small that by the time you stat them to check their date stamp you could just read them again also now that we checkpoint messag state on everi messag view that file will chang everi time in the old day exmh use to cach a bunch of state about the folder -- brent welch softwar architect panasa inc pioneer the world most scalabl and agil storag network www.panasas.com email _______________________________________________ exmh-work mail list email URL