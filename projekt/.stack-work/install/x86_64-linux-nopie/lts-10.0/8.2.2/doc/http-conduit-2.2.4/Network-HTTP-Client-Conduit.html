<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Network.HTTP.Client.Conduit</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="src/Network.HTTP.Client.Conduit.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">http-conduit-2.2.4: HTTP client package with conduit interface and HTTPS support.</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell98</td></tr></table><p class="caption">Network.HTTP.Client.Conduit</p></div><div id="table-of-contents"><p class="caption">Contents</p><ul><li><a href="#g:1">Conduit-specific interface</a></li><li><a href="#g:2">Manager helpers</a></li><li><a href="#g:3">General HTTP client interface</a></li><li><a href="#g:4">Lower-level conduit functions</a></li></ul></div><div id="description"><p class="caption">Description</p><div class="doc"><p>A new, experimental API to replace <a href="Network-HTTP-Conduit.html">Network.HTTP.Conduit</a>.</p><p>For most users, <a href="Network-HTTP-Simple.html">Network.HTTP.Simple</a> is probably a better choice. For more
 information, see:</p><p><a href="https://haskell-lang.org/library/http-client">https://haskell-lang.org/library/http-client</a></p><p>For more information on using this module, please be sure to read the
 documentation in the <a href="../http-client-0.5.7.1/Network-HTTP-Client.html">Network.HTTP.Client</a> module.</p></div></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><a href="#v:withResponse">withResponse</a> :: (<a href="../monad-control-1.0.2.2/Control-Monad-Trans-Control.html#t:MonadBaseControl">MonadBaseControl</a> <a href="../base-4.10.1.0/System-IO.html#t:IO">IO</a> m, <a href="../base-4.10.1.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> n, <a href="../mtl-2.2.1/Control-Monad-Reader-Class.html#t:MonadReader">MonadReader</a> env m, <a href="../http-client-0.5.7.1/Network-HTTP-Client.html#t:HasHttpManager">HasHttpManager</a> env) =&gt; <a href="Network-HTTP-Conduit.html#t:Request">Request</a> -&gt; (<a href="Network-HTTP-Conduit.html#t:Response">Response</a> (<a href="../conduit-1.2.12.1/Data-Conduit.html#t:ConduitM">ConduitM</a> i <a href="../bytestring-0.10.8.2/Data-ByteString.html#t:ByteString">ByteString</a> n ()) -&gt; m a) -&gt; m a</li><li class="src short"><a href="#v:responseOpen">responseOpen</a> :: (<a href="../base-4.10.1.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m, <a href="../base-4.10.1.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> n, <a href="../mtl-2.2.1/Control-Monad-Reader-Class.html#t:MonadReader">MonadReader</a> env m, <a href="../http-client-0.5.7.1/Network-HTTP-Client.html#t:HasHttpManager">HasHttpManager</a> env) =&gt; <a href="Network-HTTP-Conduit.html#t:Request">Request</a> -&gt; m (<a href="Network-HTTP-Conduit.html#t:Response">Response</a> (<a href="../conduit-1.2.12.1/Data-Conduit.html#t:ConduitM">ConduitM</a> i <a href="../bytestring-0.10.8.2/Data-ByteString.html#t:ByteString">ByteString</a> n ()))</li><li class="src short"><a href="#v:responseClose">responseClose</a> :: <a href="../base-4.10.1.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m =&gt; <a href="Network-HTTP-Conduit.html#t:Response">Response</a> body -&gt; m ()</li><li class="src short"><a href="#v:acquireResponse">acquireResponse</a> :: (<a href="../base-4.10.1.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> n, <a href="../mtl-2.2.1/Control-Monad-Reader-Class.html#t:MonadReader">MonadReader</a> env m, <a href="../http-client-0.5.7.1/Network-HTTP-Client.html#t:HasHttpManager">HasHttpManager</a> env) =&gt; <a href="Network-HTTP-Conduit.html#t:Request">Request</a> -&gt; m (<a href="../resourcet-1.1.10/Data-Acquire.html#t:Acquire">Acquire</a> (<a href="Network-HTTP-Conduit.html#t:Response">Response</a> (<a href="../conduit-1.2.12.1/Data-Conduit.html#t:ConduitM">ConduitM</a> i <a href="../bytestring-0.10.8.2/Data-ByteString.html#t:ByteString">ByteString</a> n ())))</li><li class="src short"><a href="#v:defaultManagerSettings">defaultManagerSettings</a> :: <a href="Network-HTTP-Conduit.html#t:ManagerSettings">ManagerSettings</a></li><li class="src short"><a href="#v:newManager">newManager</a> :: <a href="../base-4.10.1.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m =&gt; m <a href="Network-HTTP-Conduit.html#t:Manager">Manager</a></li><li class="src short"><a href="#v:withManager">withManager</a> :: <a href="../base-4.10.1.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m =&gt; <a href="../mtl-2.2.1/Control-Monad-Reader.html#t:ReaderT">ReaderT</a> <a href="Network-HTTP-Conduit.html#t:Manager">Manager</a> m a -&gt; m a</li><li class="src short"><a href="#v:withManagerSettings">withManagerSettings</a> :: <a href="../base-4.10.1.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m =&gt; <a href="Network-HTTP-Conduit.html#t:ManagerSettings">ManagerSettings</a> -&gt; <a href="../mtl-2.2.1/Control-Monad-Reader.html#t:ReaderT">ReaderT</a> <a href="Network-HTTP-Conduit.html#t:Manager">Manager</a> m a -&gt; m a</li><li class="src short"><a href="#v:newManagerSettings">newManagerSettings</a> :: <a href="../base-4.10.1.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m =&gt; <a href="Network-HTTP-Conduit.html#t:ManagerSettings">ManagerSettings</a> -&gt; m <a href="Network-HTTP-Conduit.html#t:Manager">Manager</a></li><li class="src short">module <a href="../http-client-0.5.7.1/Network-HTTP-Client.html">Network.HTTP.Client</a></li><li class="src short"><a href="#v:httpLbs">httpLbs</a> :: (<a href="../base-4.10.1.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m, <a href="../http-client-0.5.7.1/Network-HTTP-Client.html#t:HasHttpManager">HasHttpManager</a> env, <a href="../mtl-2.2.1/Control-Monad-Reader-Class.html#t:MonadReader">MonadReader</a> env m) =&gt; <a href="Network-HTTP-Conduit.html#t:Request">Request</a> -&gt; m (<a href="Network-HTTP-Conduit.html#t:Response">Response</a> <a href="../bytestring-0.10.8.2/Data-ByteString-Lazy.html#t:ByteString">ByteString</a>)</li><li class="src short"><a href="#v:httpNoBody">httpNoBody</a> :: (<a href="../base-4.10.1.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m, <a href="../http-client-0.5.7.1/Network-HTTP-Client.html#t:HasHttpManager">HasHttpManager</a> env, <a href="../mtl-2.2.1/Control-Monad-Reader-Class.html#t:MonadReader">MonadReader</a> env m) =&gt; <a href="Network-HTTP-Conduit.html#t:Request">Request</a> -&gt; m (<a href="Network-HTTP-Conduit.html#t:Response">Response</a> ())</li><li class="src short"><a href="#v:requestBodySource">requestBodySource</a> :: <a href="../base-4.10.1.0/Data-Int.html#t:Int64">Int64</a> -&gt; <a href="../conduit-1.2.12.1/Data-Conduit.html#t:Source">Source</a> <a href="../base-4.10.1.0/System-IO.html#t:IO">IO</a> <a href="../bytestring-0.10.8.2/Data-ByteString.html#t:ByteString">ByteString</a> -&gt; <a href="Network-HTTP-Conduit.html#t:RequestBody">RequestBody</a></li><li class="src short"><a href="#v:requestBodySourceChunked">requestBodySourceChunked</a> :: <a href="../conduit-1.2.12.1/Data-Conduit.html#t:Source">Source</a> <a href="../base-4.10.1.0/System-IO.html#t:IO">IO</a> <a href="../bytestring-0.10.8.2/Data-ByteString.html#t:ByteString">ByteString</a> -&gt; <a href="Network-HTTP-Conduit.html#t:RequestBody">RequestBody</a></li><li class="src short"><a href="#v:bodyReaderSource">bodyReaderSource</a> :: <a href="../base-4.10.1.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m =&gt; <a href="../http-client-0.5.7.1/Network-HTTP-Client.html#t:BodyReader">BodyReader</a> -&gt; <a href="../conduit-1.2.12.1/Data-Conduit.html#t:Producer">Producer</a> m <a href="../bytestring-0.10.8.2/Data-ByteString.html#t:ByteString">ByteString</a></li></ul></div><div id="interface"><h1 id="g:1">Conduit-specific interface</h1><div class="top"><p class="src"><a id="v:withResponse" class="def">withResponse</a> :: (<a href="../monad-control-1.0.2.2/Control-Monad-Trans-Control.html#t:MonadBaseControl">MonadBaseControl</a> <a href="../base-4.10.1.0/System-IO.html#t:IO">IO</a> m, <a href="../base-4.10.1.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> n, <a href="../mtl-2.2.1/Control-Monad-Reader-Class.html#t:MonadReader">MonadReader</a> env m, <a href="../http-client-0.5.7.1/Network-HTTP-Client.html#t:HasHttpManager">HasHttpManager</a> env) =&gt; <a href="Network-HTTP-Conduit.html#t:Request">Request</a> -&gt; (<a href="Network-HTTP-Conduit.html#t:Response">Response</a> (<a href="../conduit-1.2.12.1/Data-Conduit.html#t:ConduitM">ConduitM</a> i <a href="../bytestring-0.10.8.2/Data-ByteString.html#t:ByteString">ByteString</a> n ()) -&gt; m a) -&gt; m a <a href="src/Network.HTTP.Client.Conduit.html#withResponse" class="link">Source</a> <a href="#v:withResponse" class="selflink">#</a></p><div class="doc"><p>Conduit powered version of <code><a href="../http-client-0.5.7.1/Network-HTTP-Client.html#v:withResponse">withResponse</a></code>. Differences are:</p><ul><li>Response body is represented as a <code>Producer</code>.</li><li>Generalized to any instance of <code>MonadBaseControl</code>, not just <code>IO</code>.</li><li>The <code>Manager</code> is contained by a <code>MonadReader</code> context.</li></ul><p>Since 2.1.0</p></div></div><div class="top"><p class="src"><a id="v:responseOpen" class="def">responseOpen</a> :: (<a href="../base-4.10.1.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m, <a href="../base-4.10.1.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> n, <a href="../mtl-2.2.1/Control-Monad-Reader-Class.html#t:MonadReader">MonadReader</a> env m, <a href="../http-client-0.5.7.1/Network-HTTP-Client.html#t:HasHttpManager">HasHttpManager</a> env) =&gt; <a href="Network-HTTP-Conduit.html#t:Request">Request</a> -&gt; m (<a href="Network-HTTP-Conduit.html#t:Response">Response</a> (<a href="../conduit-1.2.12.1/Data-Conduit.html#t:ConduitM">ConduitM</a> i <a href="../bytestring-0.10.8.2/Data-ByteString.html#t:ByteString">ByteString</a> n ())) <a href="src/Network.HTTP.Client.Conduit.html#responseOpen" class="link">Source</a> <a href="#v:responseOpen" class="selflink">#</a></p><div class="doc"><p>Conduit-powered version of <code><a href="../http-client-0.5.7.1/Network-HTTP-Client.html#v:responseOpen">responseOpen</a></code>.</p><p>See <code><a href="Network-HTTP-Client-Conduit.html#v:withResponse">withResponse</a></code> for the differences with <code><a href="../http-client-0.5.7.1/Network-HTTP-Client.html#v:responseOpen">responseOpen</a></code>.</p><p>Since 2.1.0</p></div></div><div class="top"><p class="src"><a id="v:responseClose" class="def">responseClose</a> :: <a href="../base-4.10.1.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m =&gt; <a href="Network-HTTP-Conduit.html#t:Response">Response</a> body -&gt; m () <a href="src/Network.HTTP.Client.Conduit.html#responseClose" class="link">Source</a> <a href="#v:responseClose" class="selflink">#</a></p><div class="doc"><p>Generalized version of <code><a href="../http-client-0.5.7.1/Network-HTTP-Client.html#v:responseClose">responseClose</a></code>.</p><p>Since 2.1.0</p></div></div><div class="top"><p class="src"><a id="v:acquireResponse" class="def">acquireResponse</a> :: (<a href="../base-4.10.1.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> n, <a href="../mtl-2.2.1/Control-Monad-Reader-Class.html#t:MonadReader">MonadReader</a> env m, <a href="../http-client-0.5.7.1/Network-HTTP-Client.html#t:HasHttpManager">HasHttpManager</a> env) =&gt; <a href="Network-HTTP-Conduit.html#t:Request">Request</a> -&gt; m (<a href="../resourcet-1.1.10/Data-Acquire.html#t:Acquire">Acquire</a> (<a href="Network-HTTP-Conduit.html#t:Response">Response</a> (<a href="../conduit-1.2.12.1/Data-Conduit.html#t:ConduitM">ConduitM</a> i <a href="../bytestring-0.10.8.2/Data-ByteString.html#t:ByteString">ByteString</a> n ()))) <a href="src/Network.HTTP.Client.Conduit.html#acquireResponse" class="link">Source</a> <a href="#v:acquireResponse" class="selflink">#</a></p><div class="doc"><p>An <code>Acquire</code> for getting a <code>Response</code>.</p><p>Since 2.1.0</p></div></div><h1 id="g:2">Manager helpers</h1><div class="top"><p class="src"><a id="v:defaultManagerSettings" class="def">defaultManagerSettings</a> :: <a href="Network-HTTP-Conduit.html#t:ManagerSettings">ManagerSettings</a> <a href="src/Network.HTTP.Client.Conduit.html#defaultManagerSettings" class="link">Source</a> <a href="#v:defaultManagerSettings" class="selflink">#</a></p><div class="doc"><p>TLS-powered manager settings.</p><p>Since 2.1.0</p></div></div><div class="top"><p class="src"><a id="v:newManager" class="def">newManager</a> :: <a href="../base-4.10.1.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m =&gt; m <a href="Network-HTTP-Conduit.html#t:Manager">Manager</a> <a href="src/Network.HTTP.Client.Conduit.html#newManager" class="link">Source</a> <a href="#v:newManager" class="selflink">#</a></p><div class="doc"><p>Get a new manager using <code><a href="Network-HTTP-Client-Conduit.html#v:defaultManagerSettings">defaultManagerSettings</a></code>.</p><p>Since 2.1.0</p></div></div><div class="top"><p class="src"><a id="v:withManager" class="def">withManager</a> :: <a href="../base-4.10.1.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m =&gt; <a href="../mtl-2.2.1/Control-Monad-Reader.html#t:ReaderT">ReaderT</a> <a href="Network-HTTP-Conduit.html#t:Manager">Manager</a> m a -&gt; m a <a href="src/Network.HTTP.Client.Conduit.html#withManager" class="link">Source</a> <a href="#v:withManager" class="selflink">#</a></p><div class="doc"><p>Get a new manager with <code><a href="Network-HTTP-Client-Conduit.html#v:defaultManagerSettings">defaultManagerSettings</a></code> and construct a <code>ReaderT</code> containing it.</p><p>Since 2.1.0</p></div></div><div class="top"><p class="src"><a id="v:withManagerSettings" class="def">withManagerSettings</a> :: <a href="../base-4.10.1.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m =&gt; <a href="Network-HTTP-Conduit.html#t:ManagerSettings">ManagerSettings</a> -&gt; <a href="../mtl-2.2.1/Control-Monad-Reader.html#t:ReaderT">ReaderT</a> <a href="Network-HTTP-Conduit.html#t:Manager">Manager</a> m a -&gt; m a <a href="src/Network.HTTP.Client.Conduit.html#withManagerSettings" class="link">Source</a> <a href="#v:withManagerSettings" class="selflink">#</a></p><div class="doc"><p>Get a new manager with the given settings and construct a <code>ReaderT</code> containing it.</p><p>Since 2.1.0</p></div></div><div class="top"><p class="src"><a id="v:newManagerSettings" class="def">newManagerSettings</a> :: <a href="../base-4.10.1.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m =&gt; <a href="Network-HTTP-Conduit.html#t:ManagerSettings">ManagerSettings</a> -&gt; m <a href="Network-HTTP-Conduit.html#t:Manager">Manager</a> <a href="src/Network.HTTP.Client.Conduit.html#newManagerSettings" class="link">Source</a> <a href="#v:newManagerSettings" class="selflink">#</a></p><div class="doc"><p>Get a new manager using the given settings.</p><p>Since 2.1.0</p></div></div><h1 id="g:3">General HTTP client interface</h1><div class="top"><p class="src">module <a href="../http-client-0.5.7.1/Network-HTTP-Client.html">Network.HTTP.Client</a></p></div><div class="top"><p class="src"><a id="v:httpLbs" class="def">httpLbs</a> :: (<a href="../base-4.10.1.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m, <a href="../http-client-0.5.7.1/Network-HTTP-Client.html#t:HasHttpManager">HasHttpManager</a> env, <a href="../mtl-2.2.1/Control-Monad-Reader-Class.html#t:MonadReader">MonadReader</a> env m) =&gt; <a href="Network-HTTP-Conduit.html#t:Request">Request</a> -&gt; m (<a href="Network-HTTP-Conduit.html#t:Response">Response</a> <a href="../bytestring-0.10.8.2/Data-ByteString-Lazy.html#t:ByteString">ByteString</a>) <a href="src/Network.HTTP.Client.Conduit.html#httpLbs" class="link">Source</a> <a href="#v:httpLbs" class="selflink">#</a></p><div class="doc"><p>Same as <code><a href="../http-client-0.5.7.1/Network-HTTP-Client.html#v:httpLbs">httpLbs</a></code>, except it uses the <code>Manager</code> in the reader environment.</p><p>Since 2.1.1</p></div></div><div class="top"><p class="src"><a id="v:httpNoBody" class="def">httpNoBody</a> :: (<a href="../base-4.10.1.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m, <a href="../http-client-0.5.7.1/Network-HTTP-Client.html#t:HasHttpManager">HasHttpManager</a> env, <a href="../mtl-2.2.1/Control-Monad-Reader-Class.html#t:MonadReader">MonadReader</a> env m) =&gt; <a href="Network-HTTP-Conduit.html#t:Request">Request</a> -&gt; m (<a href="Network-HTTP-Conduit.html#t:Response">Response</a> ()) <a href="src/Network.HTTP.Client.Conduit.html#httpNoBody" class="link">Source</a> <a href="#v:httpNoBody" class="selflink">#</a></p><div class="doc"><p>Same as <code><a href="../http-client-0.5.7.1/Network-HTTP-Client.html#v:httpNoBody">httpNoBody</a></code>, except it uses the <code>Manager</code> in the reader environment.</p><p>This can be more convenient that using <code><a href="Network-HTTP-Client-Conduit.html#v:withManager">withManager</a></code> as it avoids the need
 to specify the base monad for the response body.</p><p>Since 2.1.2</p></div></div><h1 id="g:4">Lower-level conduit functions</h1><div class="top"><p class="src"><a id="v:requestBodySource" class="def">requestBodySource</a> :: <a href="../base-4.10.1.0/Data-Int.html#t:Int64">Int64</a> -&gt; <a href="../conduit-1.2.12.1/Data-Conduit.html#t:Source">Source</a> <a href="../base-4.10.1.0/System-IO.html#t:IO">IO</a> <a href="../bytestring-0.10.8.2/Data-ByteString.html#t:ByteString">ByteString</a> -&gt; <a href="Network-HTTP-Conduit.html#t:RequestBody">RequestBody</a> <a href="src/Network.HTTP.Client.Conduit.html#requestBodySource" class="link">Source</a> <a href="#v:requestBodySource" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:requestBodySourceChunked" class="def">requestBodySourceChunked</a> :: <a href="../conduit-1.2.12.1/Data-Conduit.html#t:Source">Source</a> <a href="../base-4.10.1.0/System-IO.html#t:IO">IO</a> <a href="../bytestring-0.10.8.2/Data-ByteString.html#t:ByteString">ByteString</a> -&gt; <a href="Network-HTTP-Conduit.html#t:RequestBody">RequestBody</a> <a href="src/Network.HTTP.Client.Conduit.html#requestBodySourceChunked" class="link">Source</a> <a href="#v:requestBodySourceChunked" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:bodyReaderSource" class="def">bodyReaderSource</a> :: <a href="../base-4.10.1.0/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m =&gt; <a href="../http-client-0.5.7.1/Network-HTTP-Client.html#t:BodyReader">BodyReader</a> -&gt; <a href="../conduit-1.2.12.1/Data-Conduit.html#t:Producer">Producer</a> m <a href="../bytestring-0.10.8.2/Data-ByteString.html#t:ByteString">ByteString</a> <a href="src/Network.HTTP.Client.Conduit.html#bodyReaderSource" class="link">Source</a> <a href="#v:bodyReaderSource" class="selflink">#</a></p></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.18.1</p></div></body></html>